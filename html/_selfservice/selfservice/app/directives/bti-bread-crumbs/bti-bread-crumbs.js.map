{"version":3,"sources":["../../../../_itsm_default_v2_template/app/directives/bti-bread-crumbs/bti-bread-crumbs.js"],"names":["angular","module","directive","restrict","templateUrl","scope","navigate","currentLevel","showTop","ngModel","crumbs","require","link","elem","attrs","copy","_this","$watch","newVal","oldVal","filter","e","id","length","found","push"],"mappings":"AAAA,CAAC,MAAM;AACL;;AACAA,UACGC,MADH,CACU,eADV,EAEGC,SAFH,CAEa,gBAFb,EAE+B,CAC3B,OAAO;AACLC,cAAU,GADL;AAELC,iBAAa,2DAFR;AAGLC,WAAO;AACLC,gBAAU,GADL;AAELC,oBAAc,GAFT;AAGLC,eAAS,GAHJ;AAILC,eAAS,GAJJ;AAKLC,cAAQ;AALH,KAHF;AAULC,aAAS,SAVJ;AAWLC,SAAMP,KAAN,EAAaQ,IAAb,EAAmBC,KAAnB,EAA2B;AACzBT,YAAMK,MAAN,GAAe,EAAf;AACAL,YAAMI,OAAN,CAAcC,MAAd,GAAuBV,QAAQe,IAAR,CAAaV,MAAMK,MAAnB,CAAvB;AACA,YAAMM,QAAQX,KAAd;;AAEAA,YAAMY,MAAN,CAAaZ,MAAME,YAAnB,EAAiC,CAACW,MAAD,EAASC,MAAT,KAAoB;AACnD,YAAID,MAAJ,EAAY;AACV,cAAIF,MAAMN,MAAN,CAAaU,MAAb,CAAoBC,KAAKH,OAAOI,EAAP,KAAcD,EAAEC,EAAzC,EAA6CC,MAAjD,EAAyD;AACvD,gBAAIC,QAAQ,KAAZ;AACAR,kBAAMN,MAAN,GAAeM,MAAMN,MAAN,CAAaU,MAAb,CAAoBC,KAAK;AACtC,kBAAI,CAACG,KAAL,EAAY;AACVA,wBAAQH,EAAEC,EAAF,KAASJ,OAAOI,EAAxB;AACA,uBAAO,CAACE,KAAD,IAAUA,KAAjB,CAFU,CAEc;AACzB;AACD,qBAAO,KAAP;AACD,aANc,CAAf;AAOD,WATD,MASO;AACLR,kBAAMN,MAAN,CAAae,IAAb,CAAkBP,MAAlB;AACD;AACDb,gBAAMI,OAAN,CAAcC,MAAd,GAAuBV,QAAQe,IAAR,CAAaC,MAAMN,MAAnB,CAAvB;AACD;AACF,OAhBD;AAiBD;AAjCI,GAAP,CAD2B,CAF/B;AAuCD,CAzCD","file":"bti-bread-crumbs.js","sourcesContent":["(() => {\r\n  'use strict';\r\n  angular\r\n    .module('swSelfService')\r\n    .directive('btiBreadCrumbs', [\r\n      () => ({\r\n        restrict: 'E',\r\n        templateUrl: 'app/directives/bti-bread-crumbs/bti-bread-crumbs.tpl.html',\r\n        scope: {\r\n          navigate: '=',\r\n          currentLevel: '&',\r\n          showTop: '=',\r\n          ngModel: '=',\r\n          crumbs: '&'\r\n        },\r\n        require: 'ngModel',\r\n        link (scope, elem, attrs)  {\r\n          scope.crumbs = [];\r\n          scope.ngModel.crumbs = angular.copy(scope.crumbs);\r\n          const _this = scope;\r\n\r\n          scope.$watch(scope.currentLevel, (newVal, oldVal) => {\r\n            if (newVal) {\r\n              if (_this.crumbs.filter(e => newVal.id === e.id).length) {\r\n                let found = false;\r\n                _this.crumbs = _this.crumbs.filter(e => {\r\n                  if (!found) {\r\n                    found = e.id === newVal.id;\r\n                    return !found || found; //include the found item\r\n                  }\r\n                  return false;\r\n                })\r\n              } else {\r\n                _this.crumbs.push(newVal);\r\n              }\r\n              scope.ngModel.crumbs = angular.copy(_this.crumbs);\r\n            }\r\n          })\r\n        }\r\n      }),\r\n    ])\r\n})();"]}