{"version":3,"sources":["../../../../_itsm_default_v2_template/app/directives/bti-bread-crumbs/bti-bread-crumbs.js"],"names":["angular","module","directive","restrict","templateUrl","scope","bindToController","navigate","currentLevel","showTop","controllerAs","controller","$scope","crumbs","_this","$watch","breadCrumbs","newVal","oldVal","filter","e","id","length","found","push"],"mappings":"AAAA,CAAC,MAAM;AACL;;AACAA,UACGC,MADH,CACU,eADV,EAEGC,SAFH,CAEa,gBAFb,EAE+B,CAC3B,OAAO;AACLC,cAAU,GADL;AAELC,iBAAa,2DAFR;AAGLC,WAAO,IAHF;AAILC,sBAAkB;AAChBC,gBAAU,GADM;AAEhBC,oBAAc,GAFE;AAGhBC,eAAS;AAHO,KAJb;;AAULC,kBAAc,aAVT;AAWLC,eAAYC,MAAZ,EAAqB;AACnB,WAAKC,MAAL,GAAc,EAAd;AACA,YAAMC,QAAQ,IAAd;;AAEAF,aAAOG,MAAP,CAAcH,OAAOI,WAAP,CAAmBR,YAAjC,EAA+C,CAACS,MAAD,EAASC,MAAT,KAAoB;AACjE,YAAID,MAAJ,EAAY;AACV,cAAIH,MAAMD,MAAN,CAAaM,MAAb,CAAoBC,KAAKH,OAAOI,EAAP,KAAcD,EAAEC,EAAzC,EAA6CC,MAAjD,EAAyD;AACvD,gBAAIC,QAAQ,KAAZ;AACAT,kBAAMD,MAAN,GAAeC,MAAMD,MAAN,CAAaM,MAAb,CAAoBC,KAAK;AACtC,kBAAI,CAACG,KAAL,EAAY;AACVA,wBAAQH,EAAEC,EAAF,KAASJ,OAAOI,EAAxB;AACA,uBAAO,CAACE,KAAD,IAAUA,KAAjB,CAFU,CAEc;AACzB;AACD,qBAAO,KAAP;AACD,aANc,CAAf;AAOD,WATD,MASO;AACLT,kBAAMD,MAAN,CAAaW,IAAb,CAAkBP,MAAlB;AACD;AACF;AACF,OAfD;AAgBD;AA/BI,GAAP,CAD2B,CAF/B;AAqCD,CAvCD","file":"bti-bread-crumbs.js","sourcesContent":["(() => {\r\n  'use strict';\r\n  angular\r\n    .module('swSelfService')\r\n    .directive('btiBreadCrumbs', [\r\n      () => ({\r\n        restrict: 'E',\r\n        templateUrl: 'app/directives/bti-bread-crumbs/bti-bread-crumbs.tpl.html',\r\n        scope: true,\r\n        bindToController: {\r\n          navigate: '=',\r\n          currentLevel: '&',\r\n          showTop: '=',\r\n        },\r\n\r\n        controllerAs: 'breadCrumbs',\r\n        controller ($scope)  {\r\n          this.crumbs = [];\r\n          const _this = this;\r\n\r\n          $scope.$watch($scope.breadCrumbs.currentLevel, (newVal, oldVal) => {\r\n            if (newVal) {\r\n              if (_this.crumbs.filter(e => newVal.id === e.id).length) {\r\n                let found = false;\r\n                _this.crumbs = _this.crumbs.filter(e => {\r\n                  if (!found) {\r\n                    found = e.id === newVal.id;\r\n                    return !found || found; //include the found item\r\n                  }\r\n                  return false;\r\n                })\r\n              } else {\r\n                _this.crumbs.push(newVal);\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }),\r\n    ])\r\n})();"]}