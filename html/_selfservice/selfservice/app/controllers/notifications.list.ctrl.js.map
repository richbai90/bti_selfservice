{"version":3,"sources":["../../../_itsm_default_v2_template/app/controllers/notifications.list.ctrl.js"],"names":["angular","module","controller","NotificationCtrl","$inject","$scope","SWSessionService","NotificationService","wssLogging","notifications","notificationsLoading","notifArray","checkActiveSession","then","getActiveNotifications","notifs","$on"],"mappings":"AAAA,CAAC,YAAY;AACT;;AAEAA,SACKC,MADL,CACY,eADZ,EAEKC,UAFL,CAEgB,kBAFhB,EAEoCC,gBAFpC;AAGAA,kBAAiBC,OAAjB,GAA2B,CAAC,QAAD,EAAU,kBAAV,EAA6B,qBAA7B,EAAmD,YAAnD,CAA3B;AACA,UAASD,gBAAT,CAA0BE,MAA1B,EAAkCC,gBAAlC,EAAoDC,mBAApD,EAAyEC,UAAzE,EACA;AACFH,SAAOI,aAAP,GAAuBF,mBAAvB;AACAF,SAAOI,aAAP,CAAqBC,oBAArB,GAA4C,KAA5C;AACAL,SAAOM,UAAP,GAAoB,EAApB;;AAEAL,mBAAiBM,kBAAjB,GAAsCC,IAAtC,CAA2C,YAC3C;AACCR,UAAOI,aAAP,CAAqBK,sBAArB,GAA8CD,IAA9C,CAAmD,UAASE,MAAT,EACnD;AACCV,WAAOM,UAAP,GAAoBI,MAApB;AACA,IAHD;AAIA,GAND;;AAQA;AACAV,SAAOW,GAAP,CAAW,QAAX,EAAoB,YACpB;AACCX,UAAOI,aAAP,GAAuB,EAAvB;AACA,GAHD;AAIG;AACJ,CA3BD","file":"notifications.list.ctrl.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('swSelfService')\r\n        .controller('NotificationCtrl', NotificationCtrl);\r\n    NotificationCtrl.$inject = ['$scope','SWSessionService','NotificationService','wssLogging'];\r\n    function NotificationCtrl($scope, SWSessionService, NotificationService, wssLogging)\r\n    {\r\n\t\t$scope.notifications = NotificationService;\r\n\t\t$scope.notifications.notificationsLoading = false;\r\n\t\t$scope.notifArray = [];\r\n\r\n\t\tSWSessionService.checkActiveSession().then(function()\r\n\t\t{\r\n\t\t\t$scope.notifications.getActiveNotifications().then(function(notifs)\r\n\t\t\t{\r\n\t\t\t\t$scope.notifArray = notifs;\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t//Watch for logout broadcast to clean up session-specific data ready for a new user\r\n\t\t$scope.$on('logout',function()\r\n\t\t{\r\n\t\t\t$scope.notifications = {};\r\n\t\t});\r\n    }\r\n})();\r\n"]}