{"version":3,"sources":["../../../_itsm_default_v2_template/app/controllers/affectedservices.list.ctrl.js"],"names":["angular","module","controller","AffectedServicesCtrl","$inject","$scope","SWSessionService","AffectedServicesService","wssLogging","notifications","notificationsLoading","notifArray","checkActiveSession","then","getActiveNotifications","notifs","$on"],"mappings":"AAAA,CAAC,YAAY;AACT;;AAEAA,SACKC,MADL,CACY,eADZ,EAEKC,UAFL,CAEgB,sBAFhB,EAEwCC,oBAFxC;AAGAA,sBAAqBC,OAArB,GAA+B,CAAC,QAAD,EAAU,kBAAV,EAA6B,yBAA7B,EAAuD,YAAvD,CAA/B;AACA,UAASD,oBAAT,CAA8BE,MAA9B,EAAsCC,gBAAtC,EAAwDC,uBAAxD,EAAiFC,UAAjF,EACA;AACFH,SAAOI,aAAP,GAAuBF,uBAAvB;AACAF,SAAOI,aAAP,CAAqBC,oBAArB,GAA4C,KAA5C;AACAL,SAAOM,UAAP,GAAoB,EAApB;;AAEAL,mBAAiBM,kBAAjB,GAAsCC,IAAtC,CAA2C,YAC3C;AACCR,UAAOI,aAAP,CAAqBK,sBAArB,GAA8CD,IAA9C,CAAmD,UAASE,MAAT,EACnD;AACCV,WAAOM,UAAP,GAAoBI,MAApB;AACA,IAHD;AAIA,GAND;;AAQA;AACAV,SAAOW,GAAP,CAAW,QAAX,EAAoB,YACpB;AACCX,UAAOI,aAAP,GAAuB,EAAvB;AACA,GAHD;AAIG;AACJ,CA3BD","file":"affectedservices.list.ctrl.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('swSelfService')\r\n        .controller('AffectedServicesCtrl', AffectedServicesCtrl);\r\n    AffectedServicesCtrl.$inject = ['$scope','SWSessionService','AffectedServicesService','wssLogging'];\r\n    function AffectedServicesCtrl($scope, SWSessionService, AffectedServicesService, wssLogging)\r\n    {\r\n\t\t$scope.notifications = AffectedServicesService;\r\n\t\t$scope.notifications.notificationsLoading = false;\r\n\t\t$scope.notifArray = [];\r\n\r\n\t\tSWSessionService.checkActiveSession().then(function()\r\n\t\t{\r\n\t\t\t$scope.notifications.getActiveNotifications().then(function(notifs)\r\n\t\t\t{\r\n\t\t\t\t$scope.notifArray = notifs;\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t//Watch for logout broadcast to clean up session-specific data ready for a new user\r\n\t\t$scope.$on('logout',function()\r\n\t\t{\r\n\t\t\t$scope.notifications = {};\r\n\t\t});\r\n    }\r\n})();\r\n"]}