{"version":3,"sources":["../../../_itsm_default_v2_template/app/controllers/modal.cipicker.ctrl.js"],"names":["angular","module","controller","ModalCIPickerCtrl","$inject","$scope","$uibModalInstance","items","SWSessionService","WizardDataService","wizServ","ok","close","arrAnswers","cancel","dismiss","ciSelected","intCIID","objCI","answer","checkActiveSession","then"],"mappings":"AAAA,CAAC,YAAY;AACT;;AAEA;;AACAA,UACKC,MADL,CACY,eADZ,EAEKC,UAFL,CAEgB,mBAFhB,EAEqCC,iBAFrC;AAGAA,oBAAkBC,OAAlB,GAA4B,CAAC,QAAD,EAAW,mBAAX,EAA+B,OAA/B,EAAuC,kBAAvC,EAA0D,mBAA1D,CAA5B;AACA,WAASD,iBAAT,CAA2BE,MAA3B,EAAmCC,iBAAnC,EAAsDC,KAAtD,EAA6DC,gBAA7D,EAA+EC,iBAA/E,EACA;AACEJ,WAAOK,OAAP,GAAiBD,iBAAjB;AACAJ,WAAOM,EAAP,GAAY,YAAY;AACtBL,wBAAkBM,KAAlB,CAAwBP,OAAOQ,UAA/B;AACD,KAFD;;AAIAR,WAAOS,MAAP,GAAgB,YAAY;AAC1BR,wBAAkBS,OAAlB,CAA0B,QAA1B;AACD,KAFD;;AAIAV,WAAOW,UAAP,GAAoB,UAASC,OAAT,EAAkBC,KAAlB,EAAyB;AAC3Cb,aAAOQ,UAAP,CAAkBI,OAAlB,IAA6BC,MAAMC,MAAnC;AACD,KAFD;;AAIA;AACAX,qBAAiBY,kBAAjB,GAAsCC,IAAtC,CAA2C,YAAU;AACnDhB,aAAOQ,UAAP,GAAoB,EAApB;AACD,KAFD,EAEG,YAAU;AACX;AACAP,wBAAkBS,OAAlB,CAA0B,QAA1B;AACD,KALD;AAOD;AACJ,CAhCD","file":"modal.cipicker.ctrl.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    //Modal CI Picker Controller\r\n    angular\r\n        .module('swSelfService')\r\n        .controller('ModalCIPickerCtrl', ModalCIPickerCtrl);\r\n    ModalCIPickerCtrl.$inject = ['$scope', '$uibModalInstance','items','SWSessionService','WizardDataService'];\r\n    function ModalCIPickerCtrl($scope, $uibModalInstance, items, SWSessionService, WizardDataService)\r\n    {\r\n      $scope.wizServ = WizardDataService;\r\n      $scope.ok = function () {\r\n        $uibModalInstance.close($scope.arrAnswers);\r\n      };\r\n\r\n      $scope.cancel = function () {\r\n        $uibModalInstance.dismiss('cancel');\r\n      };\r\n\r\n      $scope.ciSelected = function(intCIID, objCI) {\r\n        $scope.arrAnswers[intCIID] = objCI.answer;\r\n      };\r\n\r\n      //Check session, if active then build tree in modal\r\n      SWSessionService.checkActiveSession().then(function(){\r\n        $scope.arrAnswers = [];\r\n      }, function(){\r\n        //Session error, cancel modal\r\n        $uibModalInstance.dismiss('cancel');\r\n      });\r\n\r\n    }\r\n})();\r\n"]}