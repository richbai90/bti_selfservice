{"version":3,"sources":["../../../_itsm_default_v2_template/app/controllers/dashboard.ctrl.js"],"names":["angular","module","controller","DashboardController","$inject","$scope","store","$state","SWSessionService","wssHelpers","sessServ","checkActiveSession","then","wssConfig","get","instanceConfig","sessionConfig","welcomeTextOne","home_msg1","welcomeTextTwo","home_msg2","welcomeTextThree","home_msg3","twitterFeed","wssBranding","error","initDashboard","canRaiseRequest","objCustDetail","authCount","numAuths","hasWebflag","navCardClass","navCardClassBottomRow","custDetails","isManager","myDataSource","chart","xAxisName","yAxisName","theme","data","label","value","raiseSupportRequest","remove","go"],"mappings":"AAAA,CAAC,YAAY;AACT;;AACAA,YACKC,MADL,CACY,eADZ,EAEKC,UAFL,CAEgB,qBAFhB,EAEuCC,mBAFvC;;AAIAA,wBAAoBC,OAApB,GAA8B,CAAC,QAAD,EAAU,OAAV,EAAkB,QAAlB,EAA2B,kBAA3B,EAA8C,YAA9C,CAA9B;;AAEA,aAASD,mBAAT,CAA6BE,MAA7B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDC,gBAApD,EAAsEC,UAAtE,EACA;AACEJ,eAAOK,QAAP,GAAkBF,gBAAlB;AACA;AACAH,eAAOK,QAAP,CAAgBC,kBAAhB,GAAqCC,IAArC,CAA0C,YAAU;AAClD;AACAP,mBAAOQ,SAAP,GAAmBP,MAAMQ,GAAN,CAAU,WAAV,CAAnB;AACAT,mBAAOU,cAAP,GAAwBT,MAAMQ,GAAN,CAAU,gBAAV,CAAxB;AACAT,mBAAOW,aAAP,GAAuBV,MAAMQ,GAAN,CAAU,eAAV,CAAvB;AACAT,mBAAOY,cAAP,GAAwBZ,OAAOQ,SAAP,CAAiBK,SAAzC;AACAb,mBAAOc,cAAP,GAAwBd,OAAOQ,SAAP,CAAiBO,SAAzC;AACAf,mBAAOgB,gBAAP,GAA0BhB,OAAOQ,SAAP,CAAiBS,SAA3C;AACAjB,mBAAOkB,WAAP,GAAqBC,YAAYD,WAAjC;AAED,SAVD,EAUG,UAASE,KAAT,EAAe,CACjB,CAXD;;AAaApB,eAAOqB,aAAP,GAAuB,YAAU;AAC/BrB,mBAAOsB,eAAP,GAAyB,KAAzB;AACA,gBAAIC,gBAAgB,EAApB;AACA,gBAAGA,gBAAgBtB,MAAMQ,GAAN,CAAU,aAAV,CAAnB,EAA6C;AAC3C,oBAAGc,cAAcC,SAAjB,EAA4BrB,iBAAiBsB,QAAjB,GAA4BF,cAAcC,SAA1C;AAC7B;AACDxB,mBAAOsB,eAAP,GAAyBlB,WAAWsB,UAAX,CAAsB,sBAAtB,CAAzB;AACA,gBAAG1B,OAAOsB,eAAP,IAA0BnB,iBAAiBsB,QAAjB,GAA4B,CAAzD,EAA2D;AACzDzB,uBAAO2B,YAAP,GAAsB,wCAAtB;AACA3B,uBAAO4B,qBAAP,GAA+B,wCAA/B;AACD,aAHD,MAGO,IAAI5B,OAAOsB,eAAX,EAA4B;AACjCtB,uBAAO2B,YAAP,GAAsB,sCAAtB;AACA3B,uBAAO4B,qBAAP,GAA+B,sCAA/B;AACD,aAHM,MAGA,IAAIzB,iBAAiBsB,QAAjB,GAA4B,CAAhC,EAAmC;AACxCzB,uBAAO2B,YAAP,GAAsB,sCAAtB;AACA3B,uBAAO4B,qBAAP,GAA+B,sCAA/B;AACD,aAHM,MAGA;AACL5B,uBAAO2B,YAAP,GAAsB,6BAAtB;AACA3B,uBAAO4B,qBAAP,GAA+B,6BAA/B;AACD;;AAEPxB,uBAAWyB,WAAX,GAAyBN,aAAzB;AACAvB,mBAAO8B,SAAP,GAAmB1B,WAAW0B,SAAX,EAAnB;AACK,SAvBD;;AAyBA9B,eAAO+B,YAAP,GAAsB;AACpBC,mBAAO;AACHC,2BAAW,OADR;AAEHC,2BAAW,iBAFR;AAGHC,uBAAO;AAHJ,aADa;AAMpBC,kBAAM,CACF;AACIC,uBAAO,KADX;AAEIC,uBAAO;AAFX,aADE,EAKF;AACID,uBAAO,KADX;AAEIC,uBAAO;AAFX,aALE,EASF;AACID,uBAAO,KADX;AAEIC,uBAAO;AAFX,aATE,EAaF;AACID,uBAAO,KADX;AAEIC,uBAAO;AAFX,aAbE,EAiBF;AACID,uBAAO,KADX;AAEIC,uBAAO;AAFX,aAjBE,EAqBF;AACID,uBAAO,KADX;AAEIC,uBAAO;AAFX,aArBE;AANc,SAAtB;;AAkCEtC,eAAOuC,mBAAP,GAA6B,YAAW;AACtCtC,kBAAMuC,MAAN,CAAa,cAAb;AACAtC,mBAAOuC,EAAP,CAAU,eAAV;AACD,SAHD;AAKH;AACJ,CA1FD","file":"dashboard.ctrl.js","sourcesContent":["(function () {\r\n    'use strict';\r\n    angular\r\n        .module('swSelfService')\r\n        .controller('DashboardController', DashboardController);\r\n\r\n    DashboardController.$inject = ['$scope','store','$state','SWSessionService','wssHelpers'];\r\n\r\n    function DashboardController($scope, store, $state, SWSessionService, wssHelpers)\r\n    {\r\n      $scope.sessServ = SWSessionService;\r\n      //Check for Active Session\r\n      $scope.sessServ.checkActiveSession().then(function(){\r\n        //get ss config from local storage\r\n        $scope.wssConfig = store.get('wssConfig');\r\n        $scope.instanceConfig = store.get('instanceConfig');\r\n        $scope.sessionConfig = store.get('sessionConfig');\r\n        $scope.welcomeTextOne = $scope.wssConfig.home_msg1;\r\n        $scope.welcomeTextTwo = $scope.wssConfig.home_msg2;\r\n        $scope.welcomeTextThree = $scope.wssConfig.home_msg3;\r\n        $scope.twitterFeed = wssBranding.twitterFeed;\r\n\r\n      }, function(error){\r\n      });\r\n\r\n      $scope.initDashboard = function(){\r\n        $scope.canRaiseRequest = false;\r\n        var objCustDetail = [];\r\n        if(objCustDetail = store.get(\"custDetails\")) {\r\n          if(objCustDetail.authCount) SWSessionService.numAuths = objCustDetail.authCount;\r\n        }\r\n        $scope.canRaiseRequest = wssHelpers.hasWebflag('OPTION_CAN_LOG_CALLS');\r\n        if($scope.canRaiseRequest && SWSessionService.numAuths > 0){\r\n          $scope.navCardClass = \"col-xs-12 col-sm-4 col-md-4 col-lg-5er\";\r\n          $scope.navCardClassBottomRow = \"col-xs-12 col-sm-6 col-md-6 col-lg-5er\";\r\n        } else if ($scope.canRaiseRequest) {\r\n          $scope.navCardClass = \"col-xs-12 col-sm-6 col-md-3 col-lg-3\";\r\n          $scope.navCardClassBottomRow = \"col-xs-12 col-sm-6 col-md-3 col-lg-3\";\r\n        } else if (SWSessionService.numAuths > 0) {\r\n          $scope.navCardClass = \"col-xs-12 col-sm-6 col-md-3 col-lg-3\";\r\n          $scope.navCardClassBottomRow = \"col-xs-12 col-sm-6 col-md-3 col-lg-3\";\r\n        } else {\r\n          $scope.navCardClass = \"col-xs-12 col-sm-4 col-lg-4\";\r\n          $scope.navCardClassBottomRow = \"col-xs-12 col-sm-4 col-lg-4\";\r\n        }\r\n\r\n\t\twssHelpers.custDetails = objCustDetail;\r\n\t\t$scope.isManager = wssHelpers.isManager();\r\n      };\r\n\r\n      $scope.myDataSource = {\r\n        chart: {\r\n            xAxisName: \"Month\",\r\n            yAxisName: \"Requests Logged\",\r\n            theme: \"zune\"\r\n        },\r\n        data: [\r\n            {\r\n                label: \"Jan\",\r\n                value: \"4\"\r\n            },\r\n            {\r\n                label: \"Feb\",\r\n                value: \"8\"\r\n            },\r\n            {\r\n                label: \"Mar\",\r\n                value: \"7\"\r\n            },\r\n            {\r\n                label: \"Apr\",\r\n                value: \"5\"\r\n            },\r\n            {\r\n                label: \"May\",\r\n                value: \"9\"\r\n            },\r\n            {\r\n                label: \"Jun\",\r\n                value: \"5\"\r\n            }\r\n            ]\r\n        };\r\n\r\n        $scope.raiseSupportRequest = function() {\r\n          store.remove(\"currDataForm\");\r\n          $state.go('requestwizard');\r\n        };\r\n\r\n    }\r\n})();\r\n"]}