{"version":3,"sources":["../../../_itsm_default_v2_template/app/controllers/modal.tree.ctrl.js"],"names":["angular","module","controller","ModalTreeCtrl","$inject","$scope","$uibModalInstance","items","SWSessionService","swtreedata","modalLoading","buildTree","objTree","my_tree_handler","branch","currBranch","ok","isDefined","close","dismiss","cancel","checkActiveSession","then"],"mappings":"AAAA,CAAC,YAAY;AACT;;AAEA;;AACAA,UACKC,MADL,CACY,eADZ,EAEKC,UAFL,CAEgB,eAFhB,EAEiCC,aAFjC;AAGAA,gBAAcC,OAAd,GAAwB,CAAC,QAAD,EAAW,mBAAX,EAA+B,OAA/B,EAAuC,kBAAvC,CAAxB;AACA,WAASD,aAAT,CAAuBE,MAAvB,EAA+BC,iBAA/B,EAAkDC,KAAlD,EAAyDC,gBAAzD,EACA;AACEH,WAAOI,UAAP,GAAoB,EAApB;AACAJ,WAAOK,YAAP,GAAsB,KAAtB;;AAEAL,WAAOM,SAAP,GAAmB,YAAU;AAC3BN,aAAOI,UAAP,GAAoBF,MAAMK,OAA1B;AACD,KAFD;;AAIAP,WAAOQ,eAAP,GAAyB,UAASC,MAAT,EAAgB;AACvCT,aAAOU,UAAP,GAAoBD,MAApB;AACD,KAFD;;AAIAT,WAAOW,EAAP,GAAY,YAAY;AACtB,UAAGhB,QAAQiB,SAAR,CAAkBZ,OAAOU,UAAzB,CAAH,EAAwC;AACtCT,0BAAkBY,KAAlB,CAAwBb,OAAOU,UAA/B;AACD,OAFD,MAEO;AACLT,0BAAkBa,OAAlB,CAA0B,QAA1B;AACD;AACF,KAND;;AAQAd,WAAOe,MAAP,GAAgB,YAAY;AAC1Bd,wBAAkBa,OAAlB,CAA0B,QAA1B;AACD,KAFD;;AAIA;AACAX,qBAAiBa,kBAAjB,GAAsCC,IAAtC,CAA2C,YAAU;AACnDjB,aAAOM,SAAP;AACD,KAFD,EAEG,YAAU;AACX;AACAL,wBAAkBa,OAAlB,CAA0B,QAA1B;AACD,KALD;AAOD;AACJ,CA1CD","file":"modal.tree.ctrl.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    //Modal TreeView Controller\r\n    angular\r\n        .module('swSelfService')\r\n        .controller('ModalTreeCtrl', ModalTreeCtrl);\r\n    ModalTreeCtrl.$inject = ['$scope', '$uibModalInstance','items','SWSessionService'];\r\n    function ModalTreeCtrl($scope, $uibModalInstance, items, SWSessionService)\r\n    {\r\n      $scope.swtreedata = [];\r\n      $scope.modalLoading = false;\r\n\r\n      $scope.buildTree = function(){\r\n        $scope.swtreedata = items.objTree;\r\n      };\r\n\r\n      $scope.my_tree_handler = function(branch){\r\n        $scope.currBranch = branch;\r\n      };\r\n\r\n      $scope.ok = function () {\r\n        if(angular.isDefined($scope.currBranch)){\r\n          $uibModalInstance.close($scope.currBranch);\r\n        } else {\r\n          $uibModalInstance.dismiss('cancel');\r\n        }\r\n      };\r\n\r\n      $scope.cancel = function () {\r\n        $uibModalInstance.dismiss('cancel');\r\n      };\r\n\r\n      //Check session, if active then build tree in modal\r\n      SWSessionService.checkActiveSession().then(function(){\r\n        $scope.buildTree();\r\n      }, function(){\r\n        //Session error, cancel modal\r\n        $uibModalInstance.dismiss('cancel');\r\n      });\r\n\r\n    }\r\n})();\r\n"]}