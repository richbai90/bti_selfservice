{"version":3,"sources":["../../../../_itsm_default_v2_template/app/directives/bti-bread-crumbs/bti-bread-crumbs.js"],"names":["angular","module","directive","restrict","templateUrl","scope","navigate","currentLevel","showTop","ngModel","crumbs","require","link","elem","attrs","copy","_this","$watch","newVal","oldVal","filter","id","e","length","found","push"],"mappings":";;AAAA,CAAC,YAAM;AACL;;AACAA,UACGC,MADH,CACU,eADV,EAEGC,SAFH,CAEa,gBAFb,EAE+B,CAC3B;AAAA,WAAO;AACLC,gBAAU,GADL;AAELC,mBAAa,2DAFR;AAGLC,aAAO;AACLC,kBAAU,GADL;AAELC,sBAAc,GAFT;AAGLC,iBAAS,GAHJ;AAILC,iBAAS,GAJJ;AAKLC,gBAAQ;AALH,OAHF;AAULC,eAAS,SAVJ;AAWLC,UAXK,gBAWCP,KAXD,EAWQQ,IAXR,EAWcC,KAXd,EAWsB;AACzBT,cAAMK,MAAN,GAAe,EAAf;AACAL,cAAMI,OAAN,CAAcC,MAAd,GAAuBV,QAAQe,IAAR,CAAaV,MAAMK,MAAnB,CAAvB;AACA,YAAMM,QAAQX,KAAd;;AAEAA,cAAMY,MAAN,CAAaZ,MAAME,YAAnB,EAAiC,UAACW,MAAD,EAASC,MAAT,EAAoB;AACnD,cAAID,MAAJ,EAAY;AACV,gBAAIF,MAAMN,MAAN,CAAaU,MAAb,CAAoB;AAAA,qBAAKF,OAAOG,EAAP,KAAcC,EAAED,EAArB;AAAA,aAApB,EAA6CE,MAAjD,EAAyD;AACvD,kBAAIC,QAAQ,KAAZ;AACAR,oBAAMN,MAAN,GAAeM,MAAMN,MAAN,CAAaU,MAAb,CAAoB,aAAK;AACtC,oBAAI,CAACI,KAAL,EAAY;AACVA,0BAAQF,EAAED,EAAF,KAASH,OAAOG,EAAxB;AACA,yBAAO,CAACG,KAAD,IAAUA,KAAjB,CAFU,CAEc;AACzB;AACD,uBAAO,KAAP;AACD,eANc,CAAf;AAOD,aATD,MASO;AACLR,oBAAMN,MAAN,CAAae,IAAb,CAAkBP,MAAlB;AACD;AACDb,kBAAMI,OAAN,CAAcC,MAAd,GAAuBV,QAAQe,IAAR,CAAaC,MAAMN,MAAnB,CAAvB;AACD;AACF,SAhBD;AAiBD;AAjCI,KAAP;AAAA,GAD2B,CAF/B;AAuCD,CAzCD","file":"bti-bread-crumbs.js","sourcesContent":["(() => {\r\n  'use strict';\r\n  angular\r\n    .module('swSelfService')\r\n    .directive('btiBreadCrumbs', [\r\n      () => ({\r\n        restrict: 'E',\r\n        templateUrl: 'app/directives/bti-bread-crumbs/bti-bread-crumbs.tpl.html',\r\n        scope: {\r\n          navigate: '=',\r\n          currentLevel: '&',\r\n          showTop: '=',\r\n          ngModel: '=',\r\n          crumbs: '&'\r\n        },\r\n        require: 'ngModel',\r\n        link (scope, elem, attrs)  {\r\n          scope.crumbs = [];\r\n          scope.ngModel.crumbs = angular.copy(scope.crumbs);\r\n          const _this = scope;\r\n\r\n          scope.$watch(scope.currentLevel, (newVal, oldVal) => {\r\n            if (newVal) {\r\n              if (_this.crumbs.filter(e => newVal.id === e.id).length) {\r\n                let found = false;\r\n                _this.crumbs = _this.crumbs.filter(e => {\r\n                  if (!found) {\r\n                    found = e.id === newVal.id;\r\n                    return !found || found; //include the found item\r\n                  }\r\n                  return false;\r\n                })\r\n              } else {\r\n                _this.crumbs.push(newVal);\r\n              }\r\n              scope.ngModel.crumbs = angular.copy(_this.crumbs);\r\n            }\r\n          })\r\n        }\r\n      }),\r\n    ])\r\n})();"]}